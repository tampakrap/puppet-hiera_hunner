# managed by puppet
---
:backends:
<% if @eyaml
  @backends.unshift('eyaml')
  @backends = @backends.uniq
end -%>
<%= @backends.to_yaml.split("\n")[1..-1].join("\n") %>
<% unless @logger.empty? -%>
:logger: <%= @logger %>
<% end %>
:hierarchy:
<%= @hierarchy.to_yaml.split("\n")[1..-1].join("\n") %>
:yaml:
   :datadir: <%= @datadir %>
<% if @eyaml %>
:eyaml:
   :datadir: <%= @eyaml_datadir %>
<% if @eyaml_extension -%>
   :extension: <%= @eyaml_extension %>
<% end -%>
   :pkcs7_private_key: <%= @confdir %>/keys/private_key.pkcs7.pem
   :pkcs7_public_key:  <%= @confdir %>/keys/public_key.pkcs7.pem
<% end %>
<% unless @merge_behavior.empty? -%>
:merge_behavior: <%= @merge_behavior -%>
<% end -%>
<% unless @extra_config.empty? -%>
<%= @extra_config %>
<% end -%>
